/**
 * ||========================================================================================================================||
 * ||                                                                                                                        ||
 * ||  ________  _______   ________  _________  ___  ___  ________  ________  ___  ___  ________  ________  ________         ||
 * || |\   ___ \|\  ___ \ |\   __  \|\___   ___\\  \|\  \|\   __  \|\   __  \|\  \|\  \|\   __  \|\   __  \|\   ___  \       ||
 * ||  \ \  \_|\ \ \   __/|\ \  \|\  \|___ \  \_\ \  \\\  \ \  \|\  \ \  \|\  \ \  \\\  \ \  \|\ /\ \  \|\  \ \  \\ \  \     ||
 * ||   \ \  \ \\ \ \  \_|/_\ \   __  \   \ \  \ \ \   __  \ \   __  \ \   _  _\ \  \\\  \ \   __  \ \   __  \ \  \\ \  \    ||
 * ||    \ \  \_\\ \ \  \_|\ \ \  \ \  \   \ \  \ \ \  \ \  \ \  \ \  \ \  \\  \\ \  \\\  \ \  \|\  \ \  \ \  \ \  \\ \  \   ||
 * ||     \ \_______\ \_______\ \__\ \__\   \ \__\ \ \__\ \__\ \__\ \__\ \__\\ _\\ \_______\ \_______\ \__\ \__\ \__\\ \__\  ||
 * ||      \|_______|\|_______|\|__|\|__|    \|__|  \|__|\|__|\|__|\|__|\|__|\|__|\|_______|\|_______|\|__|\|__|\|__| \|__|  ||
 * ||                                                                                                                        ||
 * ||========================================================================================================================||
 * ||                                                                                                                        ||  
 * ||                                               ★ Please do not modify this code ★                                      ||  
 * ||                                   ► This Mod was created for Minecraft Bedrock Edition ◄                               || 
 * ||                                                                                                                        ||
 * ||========================================================================================================================||
 */

/**
* @made_by Death_Aruban
* @version [1.0.0]
* @link [https://discord.com/invite/NKy9A9RAe8]
*/

(function(_0x470268,_0xd93318){const _0x27d6dc=AruCube_0x274b,_0x3533cf=_0x470268();while(!![]){try{const _0x3bba7b=parseInt(_0x27d6dc(0xaf))/0x1*(-parseInt(_0x27d6dc(0xd9))/0x2)+parseInt(_0x27d6dc(0x9a))/0x3+parseInt(_0x27d6dc(0xbc))/0x4*(-parseInt(_0x27d6dc(0xa1))/0x5)+-parseInt(_0x27d6dc(0xb6))/0x6*(parseInt(_0x27d6dc(0xbe))/0x7)+-parseInt(_0x27d6dc(0xc9))/0x8*(parseInt(_0x27d6dc(0xb2))/0x9)+parseInt(_0x27d6dc(0xce))/0xa+parseInt(_0x27d6dc(0xca))/0xb*(parseInt(_0x27d6dc(0xc3))/0xc);if(_0x3bba7b===_0xd93318)break;else _0x3533cf['push'](_0x3533cf['shift']());}catch(_0x321068){_0x3533cf['push'](_0x3533cf['shift']());}}}(AruCube_0x231c,0x5d161));function AruCube_0x231c(){const _0x4de856=['floor','§f[§dEnchant\x20+§f]\x20§8>>\x20§cYou\x20have\x20selected\x20incompatible\x20spells.\x20Try\x20again.','\x20\x0a§f---------------------\x0a\x0a§6Rules:\x0a§fremember\x20that\x20enchants\x20\x0ayou\x20are\x20entering\x20cannot\x20\x0abe\x20overwritten,\x20but\x20are\x20added.','enchantToolKey','4005156WWnbGU','find','lvl','dimension','getComponent','sendMessage','4835048TLnHij','77uDoRcm','max','canceled','slider','3729370ZlKSyg','formValues','body','kill\x20@s','log','length','location','runCommandAsync','catch','\x0a§8','keys','2uZEdDm','name','repeat','da:enchant_book','push','minecraft:inventory','\x20More\x20XP.','89280GWeIdm','getEntitiesAtBlockLocation','split','typeId','index','§6If\x20you\x20are\x20sure\x20of\x20\x0ayour\x20choice,\x20click\x20here','Inventory\x20for\x20player\x20not\x20found.','52840ynwDep','spawnEntity','title','minecraft:enchantable','container','includes','§f[§dEnchant\x20+§f]\x20§8>>\x20§aWeapons\x20to\x20upgrade!','stack','arucube.enchant.plus','getItem','§f[§dEnchant\x20+§f]\x20§8>>\x20§cYou\x20don\x27t\x20have\x20enough\x20XP.\x20You\x20need\x20','nameTag','error','level','477886XtaHWl','addEnchantment','button','9whoEeM','arucube.enchant.confirm','§fList\x20of\x20Enchantable\x20Items:§a\x20','§f[§dEnchant\x20+§f]\x20§8>>\x20§cNot\x20weapons\x20to\x20upgrade!','12sCyvAz','§aEnchant\x20to\x20add:\x0a§f---------------------','value','\x0a§d-\x20','forEach','then','288fuKmWm','show','1801079ExilIC'];AruCube_0x231c=function(){return _0x4de856;};return AruCube_0x231c();}import{Vector}from'@minecraft/server';import{ActionFormData,ModalFormData}from'@minecraft/server-ui';import{getTexturePath,formatItemName,see_xp,checkCompatibility}from'./function';import{enchant_tools,enchant_list,enchant_type}from'./enchant';import{config}from'../../config';export const blocks={0x1:{'Id':'da:enchant_table_plus','interact_function':enchant_table_plus_interact,'place_function':enchant_table_plus_place,'break_function':enchant_table_plus_break}};async function enchant_table_plus_place(_0x186861,_0x10ec24){const _0x2a6838=AruCube_0x274b;let _0x167fbc=_0x186861[_0x2a6838(0xc6)][_0x2a6838(0xa2)](_0x2a6838(0x96),new Vector(_0x10ec24[_0x2a6838(0xd4)]['x']+0.5,_0x10ec24['location']['y']+0x1,_0x10ec24[_0x2a6838(0xd4)]['z']+0.5));_0x167fbc['nameTag']='';};async function enchant_table_plus_break(_0xb923dc,_0x14db11){const _0x2ec247=AruCube_0x274b,_0x4959db=new Vector(_0x14db11[_0x2ec247(0xd4)]['x']+0.5,_0x14db11[_0x2ec247(0xd4)]['y']+0x1,_0x14db11[_0x2ec247(0xd4)]['z']+0.5),_0xc7be8c=_0x14db11[_0x2ec247(0xc6)][_0x2ec247(0x9b)](_0x4959db),_0xa29a04=_0xc7be8c['find'](_0x41cb63=>{const _0x2d5ae5=_0x2ec247;return _0x41cb63[_0x2d5ae5(0x9d)]==='da:enchant_book';});_0xa29a04&&_0xa29a04[_0x2ec247(0xd5)](_0x2ec247(0xd1));};async function enchant_table_plus_interact(_0x3444c0){const _0x461b1c=AruCube_0x274b,_0x3eb433=_0x3444c0[_0x461b1c(0xc7)]('inventory')[_0x461b1c(0xa5)];if(!_0x3eb433){console[_0x461b1c(0xd2)](_0x461b1c(0xa0));return;}const _0x2e3397=[];for(let _0x10728a=0x0;_0x10728a<0x9;_0x10728a++){const _0x579d73=_0x3eb433[_0x461b1c(0xaa)](_0x10728a);if(!_0x579d73)continue;const _0x13137d=_0x579d73[_0x461b1c(0x9d)][_0x461b1c(0x9c)](':')[0x1];let _0x1b944b=Object[_0x461b1c(0xd8)](enchant_tools)['find'](_0x21ccbd=>_0x13137d===_0x21ccbd);!_0x1b944b&&(_0x1b944b=Object['keys'](enchant_tools)[_0x461b1c(0xc4)](_0x1ba285=>_0x13137d[_0x461b1c(0xa6)](_0x1ba285)));if(!_0x1b944b)continue;_0x2e3397[_0x461b1c(0x97)]({'item':_0x579d73,'index':_0x10728a,'enchantToolKey':_0x1b944b});}for(let _0x19fad3=0x9;_0x19fad3<0x24;_0x19fad3++){const _0x2d327d=_0x3eb433[_0x461b1c(0xaa)](_0x19fad3);if(!_0x2d327d)continue;const _0x4de39e=_0x2d327d[_0x461b1c(0x9d)][_0x461b1c(0x9c)](':')[0x1];let _0x54272e=Object[_0x461b1c(0xd8)](enchant_tools)[_0x461b1c(0xc4)](_0x2f9550=>_0x4de39e===_0x2f9550);!_0x54272e&&(_0x54272e=Object[_0x461b1c(0xd8)](enchant_tools)['find'](_0x4b5373=>_0x4de39e[_0x461b1c(0xa6)](_0x4b5373)));if(!_0x54272e)continue;_0x2e3397['push']({'item':_0x2d327d,'index':_0x19fad3,'enchantToolKey':_0x54272e});}if(_0x2e3397['length']===0x0){_0x3444c0[_0x461b1c(0xc8)](_0x461b1c(0xb5));return;}const _0x39a160=new ActionFormData();_0x39a160[_0x461b1c(0xa3)](_0x461b1c(0xa9)),_0x39a160[_0x461b1c(0xd0)](_0x461b1c(0xb4)+_0x2e3397[_0x461b1c(0xd3)]+_0x461b1c(0xd7));for(let _0x48f87d=0x0;_0x48f87d<_0x2e3397[_0x461b1c(0xd3)];_0x48f87d++){const {item:_0x305520,index:_0x144c8b,enchantToolKey:_0x4b0c7f}=_0x2e3397[_0x48f87d],_0x15e1db=formatItemName(_0x305520[_0x461b1c(0xac)]??_0x305520[_0x461b1c(0x9d)]),_0x286f64=getTexturePath(_0x305520[_0x461b1c(0x9d)]),_0x142113=enchant_type[_0x4b0c7f]||_0x4b0c7f;_0x39a160['button']('§fSlot:\x20§a'+_0x144c8b,_0x286f64);}_0x39a160[_0x461b1c(0xbd)](_0x3444c0)[_0x461b1c(0xbb)](({selection:_0x11983b,canceled:_0x816b05})=>{const _0x2486ab=_0x461b1c;if(_0x816b05)return;const _0x36ca81=_0x2e3397[_0x11983b];if(!_0x36ca81)return;showItemEditor(_0x3444c0,_0x36ca81[_0x2486ab(0x9e)],_0x36ca81[_0x2486ab(0xc2)]);});};function toRoman(_0x2e3608){const _0x22f007=AruCube_0x274b,_0x49f8ab={'M':0x3e8,'CM':0x384,'D':0x1f4,'CD':0x190,'C':0x64,'XC':0x5a,'L':0x32,'XL':0x28,'X':0xa,'IX':0x9,'V':0x5,'IV':0x4,'I':0x1};let _0x40b609='';for(let _0x30c86f of Object[_0x22f007(0xd8)](_0x49f8ab)){let _0x58afb4=Math[_0x22f007(0xbf)](_0x2e3608/_0x49f8ab[_0x30c86f]);_0x2e3608-=_0x58afb4*_0x49f8ab[_0x30c86f],_0x40b609+=_0x30c86f[_0x22f007(0xdb)](_0x58afb4);}return _0x40b609;};async function showItemEditor(_0x6e3dca,_0x58c27f,_0x469438){const _0x1153b7=AruCube_0x274b,{container:_0xc4246e}=_0x6e3dca[_0x1153b7(0xc7)](_0x1153b7(0x98)),_0x57aed3=_0xc4246e[_0x1153b7(0xaa)](_0x58c27f),_0x3a2877=enchant_tools[_0x469438][_0x1153b7(0xb8)],_0x255a53=new ModalFormData();_0x255a53[_0x1153b7(0xa3)]('arucube.enchant.add');for(let _0x40abb4 of _0x3a2877){const _0x53db8b=enchant_list[_0x40abb4][_0x1153b7(0xc5)][_0x1153b7(0xda)],_0x30dc5a=enchant_list[_0x40abb4]['lvl'][_0x1153b7(0xcb)];_0x255a53[_0x1153b7(0xcd)]('§8§l\x20\x20'+_0x53db8b+'§6',0x0,_0x30dc5a,0x1);}_0x255a53[_0x1153b7(0xbd)](_0x6e3dca)[_0x1153b7(0xbb)](_0x89cd0=>{const _0x308c6a=_0x1153b7;if(_0x89cd0[_0x308c6a(0xcc)])return;let _0x438271=0x0,_0x22d62f=[];_0x89cd0[_0x308c6a(0xcf)][_0x308c6a(0xba)]((_0x293f37,_0xb49d71)=>{const _0x475197=_0x308c6a;_0x293f37>0x0&&(_0x438271+=_0x293f37,_0x22d62f[_0x475197(0x97)]({'id':_0x3a2877[_0xb49d71],'level':_0x293f37}));});if(!checkCompatibility(_0x22d62f)){_0x6e3dca['sendMessage'](_0x308c6a(0xc0));return;}_0x438271*=config['xp'];const _0x5cf739=see_xp(_0x6e3dca);if(_0x5cf739<_0x438271){_0x6e3dca[_0x308c6a(0xc8)](_0x308c6a(0xab)+(_0x438271-_0x5cf739)+_0x308c6a(0x99));return;}const _0x43bcf3=new ActionFormData();_0x43bcf3[_0x308c6a(0xa3)](_0x308c6a(0xb3));let _0x2da473=_0x308c6a(0xb7);_0x22d62f[_0x308c6a(0xba)](_0x34d212=>{const _0x4f9dba=_0x308c6a,_0x2d23d0=enchant_list[_0x34d212['id']][_0x4f9dba(0xc5)][_0x4f9dba(0xda)],_0x14eea9=toRoman(_0x34d212['level']);_0x2da473+=_0x4f9dba(0xb9)+_0x2d23d0+'\x20'+_0x14eea9;}),_0x2da473+='\x0a§f---------------------\x0a§aTotal\x20XP\x20cost:\x20§6'+_0x438271+_0x308c6a(0xc1),_0x43bcf3[_0x308c6a(0xd0)](_0x2da473),_0x43bcf3['button'](_0x308c6a(0x9f)),_0x43bcf3[_0x308c6a(0xb1)]('§cIf\x20you\x20have\x20second\x20\x0athoughts\x20click\x20here'),_0x43bcf3[_0x308c6a(0xbd)](_0x6e3dca)['then'](({selection:_0x474eda,canceled:_0x3dfbec})=>{const _0x4d68a8=_0x308c6a;if(_0x3dfbec||_0x474eda!==0x0)return;_0x6e3dca['runCommandAsync']('xp\x20-'+_0x438271+'L\x20@s'),_0x6e3dca['sendMessage'](_0x4d68a8(0xa7));var _0x751f13=_0x57aed3[_0x4d68a8(0xc7)](_0x4d68a8(0xa4));_0x751f13&&(_0x22d62f[_0x4d68a8(0xba)](_0x2c2971=>{const _0x428b92=_0x4d68a8;_0x751f13[_0x428b92(0xb0)]({'type':_0x2c2971['id'],'level':_0x2c2971[_0x428b92(0xae)]});}),_0xc4246e['setItem'](_0x58c27f,_0x57aed3));})[_0x308c6a(0xd6)](_0x2902c0=>{const _0x15cd6a=_0x308c6a;console[_0x15cd6a(0xad)](_0x2902c0,_0x2902c0['stack']);});})[_0x1153b7(0xd6)](_0xfea4dd=>{const _0xaae9be=_0x1153b7;console[_0xaae9be(0xad)](_0xfea4dd,_0xfea4dd[_0xaae9be(0xa8)]);});}function AruCube_0x274b(_0x4149d7,_0x466d3f){const _0x231c34=AruCube_0x231c();return AruCube_0x274b=function(_0x274bc6,_0x2e0627){_0x274bc6=_0x274bc6-0x96;let _0x40e16c=_0x231c34[_0x274bc6];return _0x40e16c;},AruCube_0x274b(_0x4149d7,_0x466d3f);};